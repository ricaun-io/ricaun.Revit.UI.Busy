# ricaun.Revit.UI.Busy

[![Revit 2017](https://img.shields.io/badge/Revit-2017+-blue.svg)](https://github.com/ricaun-io/ricaun.Revit.UI.Busy)
[![Visual Studio 2022](https://img.shields.io/badge/Visual%20Studio-2022-blue)](https://github.com/ricaun-io/ricaun.Revit.UI.Busy)
[![Nuke](https://img.shields.io/badge/Nuke-Build-blue)](https://nuke.build/)
[![License MIT](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
[![Build](https://github.com/ricaun-io/ricaun.Revit.UI.Busy/actions/workflows/Build.yml/badge.svg)](https://github.com/ricaun-io/ricaun.Revit.UI.Busy/actions)
[![Nuget](https://img.shields.io/nuget/v/ricaun.Revit.UI.Busy?logo=nuget&label=Nuget&color=blue)](https://www.nuget.org/packages/ricaun.Revit.UI.Busy)

[![ricaun.Revit.UI.Busy](https://raw.githubusercontent.com/ricaun-io/ricaun.Revit.UI.Busy/develop/assets/ricaun.Revit.UI.Busy.png)](https://github.com/ricaun-io/ricaun.Revit.UI.Busy)

`ricaun.Revit.UI.Busy` package provides a static control to monitor the busy state of Revit UI using the `Idling` event.

This project was generated by the [ricaun.AppLoader](https://ricaun.com/AppLoader/) Revit plugin.

## Exemple

### Initialize
Static initialization of the `ricaun.Revit.UI.Busy` control.
```c#
RevitBusyControl.Initialize(application);
```

### IsRevitBusy
To check if Revit is busy, use the `IsRevitBusy` property.
```c#
bool isRevitBuzy = RevitBusyControl.Control.IsRevitBusy;
```

### Binding

Binding to the `IsRevitBusy` property.
```xml
xmlns:busy="http://schemas.revit.busy.com/2024/xaml/presentation"
```
```xml
{Binding IsRevitBusy, Source={x:Static busy:RevitBusyControl.Control}}
```

### RevitBusyService

The `RevitBusyService` class provides a service to manage the busy state of Revit using the `Idling` event.
```c#
UIControlledApplication application;
RevitBusyService revitBusyService = new RevitBusyService(application);
```

The `RevitBusyService` need to be disposed to clear the `Idling` event.
```c#
revitBusyService.Dispose();
```

The `IsRevitBusy` property can be used to check if Revit is busy.
```c#
bool isRevitBuzy = revitBusyService.IsRevitBusy;
```

The `INotifyPropertyChanged` is available in the `RevitBusyService` class.
```c#
revitBusyService.PropertyChanged += (sender, e) =>
{
	if (e.PropertyName == nameof(revitBusyService.IsRevitBusy))
	{
		// Do something
	}
};
```

The `SetInterval` method can be used to set the interval between checks; by default, the value is 1000 milliseconds.
```c#
revitBusyService.SetInterval(1000);
```

## License

This project is [licensed](LICENSE) under the [MIT License](https://en.wikipedia.org/wiki/MIT_License).

---

Do you like this project? Please [star this project on GitHub](https://github.com/ricaun-io/ricaun.Revit.UI.Busy/stargazers)!